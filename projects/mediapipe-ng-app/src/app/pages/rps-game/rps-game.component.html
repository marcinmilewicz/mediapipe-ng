<div class="rps-container">
  <div class="section-header">
    <h2 class="section-title">Rock Paper Scissors</h2>
    <p class="section-description">
      Play Rock Paper Scissors using hand gestures! Make your gesture when the countdown finishes.
    </p>
  </div>

  <div class="demo-content">
    <div class="video-section">
      <div class="video-container">
        <app-camera
          class="video-container"
          [isRunning]="tracking?.predictionRunning()"
          (onElementReady)="onCameraReady($event)"
        />
        <!-- Game overlay -->
        <div class="game-overlay">
          <div class="countdown" *ngIf="gameState() === 'countdown'">
            <div class="countdown-number">{{ countdown() }}</div>
          </div>
          <div class="gesture-detection" *ngIf="gameState() === 'playing'">
            <div class="detection-prompt">Make your gesture!</div>
          </div>
        </div>
      </div>

      <div class="current-gesture">
        <app-gesture-status [gesture]="currentGesture()" class="gesture-status" />
      </div>
    </div>

    <div class="game-section">
      <app-score-board
        class="score-board"
        [playerScore]="gameData().playerScore"
        [computerScore]="gameData().computerScore"
      />
      <div class="game-area">
        <div class="game-choices">
          <div class="choice-container">
            <h4>Your Choice</h4>
            <div class="choice-display">
              <div class="choice-icon" [class]="gameData().playerChoice || 'waiting'">
                {{ getChoiceIcon(gameData().playerChoice) }}
              </div>
              <div class="choice-name">{{ getChoiceName(gameData().playerChoice) }}</div>
            </div>
          </div>

          <div class="vs-divider">VS</div>

          <div class="choice-container">
            <h4>Computer Choice</h4>
            <div class="choice-display">
              <div class="choice-icon" [class]="gameData().computerChoice || 'waiting'">
                {{ getChoiceIcon(gameData().computerChoice) }}
              </div>
              <div class="choice-name">{{ getChoiceName(gameData().computerChoice) }}</div>
            </div>
          </div>
        </div>

        <div class="game-result" *ngIf="gameState() === 'result'">
          <div class="result-display" [class]="gameData().result">
            <div class="result-icon">{{ getResultIcon() }}</div>
            <div class="result-text">{{ getResultText() }}</div>
          </div>
        </div>

        <div class="game-controls">
          <button
            class="game-button"
            [class]="getButtonClass()"
            (click)="startGame()"
            [disabled]="gameState() === 'countdown' || gameState() === 'playing'"
          >
            {{ getButtonText() }}
          </button>
        </div>
      </div>

      <app-gesture-guide [gestures]="allHandledGesture()" class="gesture-guide" />
    </div>
  </div>
</div>
